
# ScriptTok UI Implementation - Complete Wireframe Alignment (UPDATED)

I've attached the ScriptTok Unified Wireframes document that specifies the exact UI design for our TikTok content generation platform. Please implement the UI exactly as detailed in the wireframes.

⚠️ CRITICAL: Feature Preservation Protocol

## BEFORE Making ANY Changes - Mandatory Inventory

### Step 1: Pre-Implementation Audit
1. **Inventory Check**: Document ALL existing features in the current codebase
2. **Functional Mapping**: List every working feature and its dependencies
3. **API Catalog**: Note all API endpoints and their consumers

### Step 2: Pro/Free Tier Preservation (CRITICAL - DO NOT BREAK)

**PRESERVE ALL PRO/FREE TIER LOGIC - This is MISSION CRITICAL:**

#### Current Tier Limits (ENFORCE THESE):
- **Free Tier**: 5 generations PER MONTH (NOT per day)
  - GPT: 10/month
  - Claude: 5/month  
  - Trend Analyses: 10/month
  - Content History: Last 10 items visible (rest locked)
  - NO bulk generation
  - NO export (CSV/JSON)
  - 3 niches only: Beauty, Tech, Fashion
  
- **Pro Tier**: Unlimited everything
  - GPT: 300/month
  - Claude: 150/month
  - Trend Analyses: 250/month
  - Full content history access
  - Bulk generation (up to 50 posts)
  - Export to CSV/JSON
  - All 7 niches unlocked

#### Pro-Only Features That MUST Show Upgrade CTAs:
1. **Content History** - Free users see last 10 with blur overlay + upgrade CTA
2. **AI Content Evaluation** - Show "🔒 Pro Feature" banner for free users
3. **Bulk Generation** - Disable with tooltip "Bulk generation requires Pro"
4. **Niche Selection** - Lock Fashion+, Fitness, Food, Travel, Pets with lock icon
5. **Export Buttons** - Disable CSV/JSON with "Pro only" tooltip
6. **Viral Score Analytics** - Show locked card for free users

#### Visual Treatment for Locked Features:
- Lock icon (🔒) + "Pro" badge with purple gradient
- Gradient purple-to-pink "Upgrade" buttons
- Blur effect on locked content previews (backdrop-blur-sm bg-white/40)
- Tooltips explaining Pro benefits
- Upgrade CTAs after 10th item in content history

### Step 3: File-Specific Preservation Rules

**Dashboard.tsx - CRITICAL PRESERVATION:**
```typescript
// ✅ KEEP: Usage & Limits widget (MANDATORY)
<Card className="bg-gradient-to-r from-blue-50 to-indigo-50">
  <CardHeader>
    <CardTitle>📊 Your Usage & Limits</CardTitle>
    {/* GPT, Claude, Trend quotas with progress bars */}
  </CardHeader>
</Card>

// ✅ KEEP: Approaching limit warning for free users
{isApproachingLimit() && (
  <Alert>⚠️ Approaching your monthly limit - Upgrade to Pro</Alert>
)}

// ✅ KEEP: Niche filter with lock icons on restricted niches
// ✅ KEEP: Free tier shows 1 product per niche, rest locked
```

**EnhancedContentHistory.tsx - Pro Gate Preservation:**
```typescript
// ✅ KEEP: Free user content limit (10 items)
const FREE_TIER_LIMIT = 10;
const isLocked = isFreeUser && index >= FREE_TIER_LIMIT;

// ✅ KEEP: Blur overlay on locked items
{isLocked && (
  <div className="absolute inset-0 z-10 backdrop-blur-sm bg-white/40">
    <Lock /> Upgrade to Pro to view all history
  </div>
)}

// ✅ KEEP: Upgrade CTA card after 10th item
{showUpgradeCTA && <UpgradeCTACard />}

// ✅ KEEP: Export disabled for free users
<Button disabled={isFreeUser}>
  {isFreeUser && <Lock />} Export CSV
</Button>
```

**GenerateContent.tsx - Bulk Generation Gate:**
```typescript
// ✅ KEEP: Bulk generation quota check
if (!usage.canBulkGenerate && (selectedTemplates.length > 1 || aiModel === 'both')) {
  toast({
    title: "Pro Feature Required 👑",
    description: "Bulk generation requires Pro. Upgrade to create up to 50 posts at once!"
  });
  return;
}

// ✅ KEEP: Template unlock logic
templatesUnlocked: usage.tier === 'free' ? 5 : Infinity

// ✅ KEEP: Niche restrictions for free users
const lockedNiches = isFreeUser ? ['fitness', 'food', 'travel', 'pets'] : [];
```

**ContentEvaluationPanel.tsx - AI Evaluation Gate:**
```typescript
// ✅ KEEP: Free user lockout
{isFreeUser ? (
  <div className="text-center py-8">
    <Lock /> <Crown />
    <h3>🔒 Pro Feature</h3>
    <p>Unlock detailed viral analytics and AI evaluations</p>
    <Button>Upgrade to Pro</Button>
  </div>
) : (
  // Show full evaluation UI
)}
```

### Step 4: Quota Service Integration (DO NOT MODIFY)
```typescript
// Current quota limits - PRESERVE EXACTLY:
server/services/quotaService.ts:
  getGptLimit(tier): tier === 'free' ? 10 : 300
  getClaudeLimit(tier): tier === 'free' ? 5 : 150
  getTrendAnalysisLimit(tier): tier === 'free' ? 10 : 250
  canBulkGenerate(tier): tier === 'pro'
  getUnlockedTemplateCount(tier): tier === 'free' ? 5 : Infinity
```

## Step 5: Updated Pricing Page Wireframe

```
┌────────────────────────────────────────────┐
│ Pricing Cards (3-column grid)              │
│────────────────────────────────────────────│
│ 🆓 Free        💎 Pro (Popular)    🚀 Creator+ │
│ 5 gens/month   Unlimited           Teams      │
│ 3 niches       All 7 niches        (5 seats) │
│ Basic Score    AI Evaluation       API access│
│ [Start]        [$29/mo or $240/yr] [Contact] │
└────────────────────────────────────────────┘
```

## Step 6: Updated Dashboard Usage Widget Wireframe

```
┌────────────────────────────────────────────┐
│ Usage & Limits Card (Top of Dashboard)     │
│────────────────────────────────────────────│
│  📊 Your Usage This Month                   │
│  • GPT: 6/300 (Pro) or 3/5 (Free)          │
│  • Claude: 10/150 (Pro) or 2/5 (Free)      │
│  • Trends: 5/250 (Pro) or 8/10 (Free)      │
│  [⭐ Approaching Limit? Upgrade to Pro]     │
└────────────────────────────────────────────┘
```

## Step 7: Implementation Checklist

### Phase 1: Pre-UI Audit ✅
- [ ] Document all existing features
- [ ] Map Pro/Free tier restrictions
- [ ] Verify quota service integration
- [ ] Test all upgrade CTAs work

### Phase 2: UI Updates (Preserve Features) ✅
- [ ] Update landing page hero section
- [ ] Implement pricing page with correct limits
- [ ] Add dashboard usage widget (MANDATORY)
- [ ] Update niche filters with lock icons
- [ ] Preserve content history blur overlays
- [ ] Keep all bulk generation gates
- [ ] Maintain export restrictions

### Phase 3: Verification ✅
- [ ] Test free user sees correct limits (5/month)
- [ ] Test pro user has unlimited access
- [ ] Verify upgrade CTAs appear correctly
- [ ] Check blur overlays on locked content
- [ ] Confirm quota tracking works
- [ ] Test bulk generation is Pro-only

## Step 8: Testing Requirements

**Free Tier Testing:**
- [ ] Dashboard shows "Free Plan" badge
- [ ] Usage widget displays: GPT 0/10, Claude 0/5, Trends 0/10
- [ ] Only Beauty, Tech, Fashion niches unlocked
- [ ] Content history shows max 10 items, rest blurred
- [ ] Export buttons disabled with lock icons
- [ ] Bulk generation blocked with upgrade prompt
- [ ] AI Evaluation shows Pro-only lockout

**Pro Tier Testing:**
- [ ] Dashboard shows "Pro Plan" badge with Crown
- [ ] Usage widget displays: GPT 0/300, Claude 0/150, Trends 0/250
- [ ] All 7 niches unlocked
- [ ] Full content history access
- [ ] Export to CSV/JSON enabled
- [ ] Bulk generation up to 50 posts allowed
- [ ] AI Evaluation fully functional

## Final Safety Protocol

**BEFORE DEPLOYING ANY UI CHANGES:**
1. Run all test suites (npm test)
2. Verify quota tracking in browser DevTools
3. Test both free and pro user flows
4. Confirm no features were accidentally removed
5. Check all upgrade CTAs link to /account correctly
6. Verify blur overlays and lock icons appear

**IF ANY FEATURE BREAKS:**
1. Immediately revert changes
2. Document what broke and why
3. Fix preservation logic first
4. Re-test before implementing UI

---

## Summary

This updated prompt ensures the UI implementation will:
✅ Preserve all Pro/Free tier logic (5/month limit for free)
✅ Keep all feature gates and upgrade CTAs
✅ Maintain usage tracking and quota display
✅ Show correct limits in pricing (NOT 5/day)
✅ Lock features appropriately with visual cues
✅ Guide users to upgrade at the right moments

**The wireframe guides the layout, but the tier logic is SACRED - do not modify it.**
