Prompt for Replit Agent:

Please enhance the ScriptTok trending system to display detailed trend categorization with specific products and pricing information. This update should make the trending picks more actionable for content creators by providing specific products they can promote.

Goal 1: Enhanced Trend Categorization with Specific Products

Update the trending display system to show trends organized by momentum categories (Hot, Rising, Upcoming, Declining) with 2-3 specific, real products for each trend.

Required Format for Trend Display:

ðŸ”¥ HOT: Retinol Serums
â””â”€ Viral anti-aging trend â€¢ 52K videos this week
Products to promote:
- The Ordinary Retinol 1% in Squalane ($12) â†’ Generate
- CeraVe Resurfacing Retinol Serum ($18) â†’ Generate  
- Neutrogena Rapid Wrinkle Repair ($29) â†’ Generate
ðŸ“ˆ RISING: AI Productivity Tools  
â””â”€ ChatGPT mainstream adoption â€¢ 89K videos this week
Products to promote:
- Notion AI Pro Subscription ($10/mo) â†’ Generate
- Grammarly Premium ($30/mo) â†’ Generate
- Copy.ai Starter Plan ($49/mo) â†’ Generate
Implementation Requirements:

Update Perplexity Integration (server/services/perplexityTrends.ts):

Modify the Perplexity API calls to request trend categorization (Hot/Rising/Upcoming/Declining)
For each trend category, fetch 2-3 trending topics
For each trend, identify 2-3 specific, real products available on Amazon/major retailers
Include product names with accurate price ranges
Capture trend momentum data (video counts, engagement metrics)
Update Database Schema (if needed):

Add fields for trend category, momentum indicator, and product pricing
Ensure trending_products table can store product price information
Enhanced Frontend Display (client/src/pages/TrendingAIPicks.tsx):

Update the UI to show trend categories with visual indicators (ðŸ”¥, ðŸ“ˆ, ðŸ”®, ðŸ“‰)
Display specific products under each trend with prices
Add "Generate" buttons next to each product that link to content generation
Show trend momentum data (video counts, growth indicators)
API Response Format:

{
  "hot": [
    {
      "trend": "Retinol serums",
      "reason": "Viral anti-aging trend",
      "volume": "52K videos this week",
      "products": [
        {"name": "The Ordinary Retinol 1%", "price": "$12", "asin": "B06XX3BVXK"},
        {"name": "CeraVe Resurfacing Retinol", "price": "$18", "asin": "B08KZQZXL5"}
      ]
    }
  ],
  "rising": [...],
  "upcoming": [...],
  "declining": [...]
}
Goal 2: Add Product Pricing to All AI Trending Picks

Update the entire trending products system to include accurate pricing information for all products.

Required Updates:

Perplexity Product Research Enhancement:

Modify all Perplexity API calls to specifically request product pricing
Use Amazon Product API or web scraping to get real-time prices
Ensure price format consistency ($XX or $XX/mo for subscriptions)
Database Updates:

Add price field to trending_products table
Add price_currency and price_type fields (one-time vs subscription)
Update all existing products with pricing data
Frontend Display Updates:

Show prices prominently in all product cards
Format prices consistently across all views
Add price sorting and filtering options
Include price in product export/generation features
Fallback Pricing Strategy:

If real-time pricing fails, use estimated price ranges based on product category
Clearly indicate when prices are estimates vs. real-time data
Implement price caching with regular updates
Specific Files to Update:

server/services/perplexityTrends.ts - Enhanced product research with pricing
server/api/trending.ts - Updated API responses with pricing data
client/src/pages/TrendingAIPicks.tsx - Enhanced UI with categorization and pricing
shared/schema.ts - Add pricing fields to database schema
server/storage.ts - Update database operations for pricing data
Acceptance Criteria:

âœ… Trending page shows 4 categories: Hot, Rising, Upcoming, Declining
âœ… Each category displays 2-3 specific trends with real product names
âœ… Every product shows accurate pricing ($XX format)
âœ… "Generate" buttons link directly to content creation for each product
âœ… Trend momentum indicators show video counts and growth metrics
âœ… All existing trending products display pricing information
âœ… Price data is regularly updated and cached for performance
âœ… Pricing works for both one-time purchases and subscription products

