Replit Agent Prompt: Implement Landing Page & Dashboard Authentication Flow
Goal
Configure the app so that:

Unauthenticated users visiting the development link see the Landing Page (/)
Authenticated users are automatically redirected to the Trend Dashboard (/dashboard)
Remove "Landing Page" from the sidebar navigation (only show it to unauthenticated users)
Required Changes
1. Update Root Route Logic in client/src/App.tsx
Current behavior: The root path (/) shows Landing Page for unauthenticated users OR Dashboard for authenticated users based on a ternary condition.

Required change:

Keep the existing ternary logic that shows Landing Page OR Dashboard based on authentication status
Ensure authenticated users are properly redirected to /dashboard from /
File to modify: client/src/App.tsx

Logic to implement:

// In the Router component, update the root route:
<Route path="/">
  {() => {
    // If user is authenticated, redirect to dashboard
    if (isAuthenticated) {
      setLocation('/dashboard');
      return null;
    }
    // Otherwise show landing page
    return <LandingPage />;
  }}
</Route>
2. Remove Landing Page from Sidebar Navigation
Current state: The sidebar (rag://rag_source_1) shows "Landing Page" as the first item in navigation.

Required change: Remove the Landing Page entry from the sidebar items array.

File to modify: client/src/components/Sidebar.tsx

Action:

In the sidebarData array, remove this object:
{ name: "Landing Page", href: "/", icon: Lightbulb },
Keep all other navigation items (Trend Dashboard, AI Content Studio, Content History, etc.)
3. Verify Authentication Hook Logic
Ensure: The useAuth() hook correctly identifies authenticated vs unauthenticated users.

File to check: client/src/hooks/useAuth.ts

Verification needed:

Confirm isAuthenticated boolean is correctly returned
Confirm isLoading state prevents premature redirects
Ensure Clerk authentication is properly integrated
4. Update Landing Page Sign-In Flow
Current state: Landing Page has "Get Started Free" and "Start Free" buttons linking to /sign-in or /dashboard

Required change: Ensure all CTA buttons on Landing Page link to /sign-in (not directly to /dashboard)

File to modify: client/src/pages/LandingPage.tsx

Action:

Verify all primary CTAs link to /sign-in:
"Get Started Free" button
"Start Free" button
"Start Pro" button
"Try ScriptTok Free" button
Testing Checklist
After implementation, verify:

 Unauthenticated user visits / → sees Landing Page
 Unauthenticated user clicks "Get Started" → goes to /sign-in
 User signs in → automatically redirected to /dashboard
 Authenticated user visits / → automatically redirected to /dashboard
 Sidebar navigation does NOT show "Landing Page" item
 Sidebar navigation shows "Trend Dashboard" as first item
 All other navigation items work correctly
Files to Modify (in order):
client/src/App.tsx - Update root route redirect logic
client/src/components/Sidebar.tsx - Remove Landing Page from navigation
client/src/pages/LandingPage.tsx - Verify CTA button links (optional cleanup)
Expected User Flow:
Unauthenticated User:
1. Visit development link (/) → Landing Page
2. Click "Get Started" → Sign In page (/sign-in)
3. Complete authentication → Redirected to Dashboard (/dashboard)
Authenticated User:
1. Visit development link (/) → Auto-redirect to Dashboard (/dashboard)
2. Navigate app normally via sidebar
3. Landing Page not visible in navigation
Important Notes:
Do NOT remove the Landing Page component - it's still needed for unauthenticated users
Do NOT break existing authentication flow - only modify routing logic
Preserve all sidebar items except Landing Page
Ensure loading states prevent flash of wrong content
Test both authenticated and unauthenticated states thoroughly
