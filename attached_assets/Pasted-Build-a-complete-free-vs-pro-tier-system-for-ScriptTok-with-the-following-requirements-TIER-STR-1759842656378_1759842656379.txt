Build a complete free vs pro tier system for ScriptTok with the following requirements:

ðŸŽ¯ TIER STRUCTURE
Free Tier - "Creator Starter"
10 GPT generations/month
5 Claude generations/month
No bulk generation (single output only)
10 Trend Analyses/month in Viral Content Studio
Trend History tab locked (show upgrade prompt)
Trend Forecaster shows only top 3 niches (lock others)
Content History stores only last 10 generations
Access to only 3 templates per studio (Viral & Affiliate)
No Viral Score Analytics dashboard
No model analytics dashboard
No export/download button for generated content
Pro Tier - "Creator Pro"
300 GPT generations/month
150 Claude generations/month
Bulk generation enabled (10-20 scripts at once)
250 Trend Analyses/month
Full Trend History tab unlocked
Full Trend Forecaster (all niches visible)
Unlimited Content History
All templates unlocked
Real-Time Viral Score Analysis Dashboard
Export/download enabled
ðŸ“‹ IMPLEMENTATION REQUIREMENTS
1. Database Schema Updates
Add subscription tier field to users table (free/pro)
Create monthly_usage table tracking:
gpt_generations_used
claude_generations_used
trend_analyses_used
user_tier
period_month (YYYY-MM format)
2. Quota Service Enhancement
Extend server/services/quotaService.ts to track:

GPT vs Claude generation counts separately
Trend analysis usage
Template access based on tier
Bulk generation permissions
3. Middleware Updates
Update server/middleware/checkQuota.ts to:

Check AI model-specific limits (GPT vs Claude)
Validate trend analysis requests
Block bulk generation for free users
Return tier-specific error messages with upgrade CTA
4. Frontend UI Changes
Content Generator Pages:

Show tier badge (Free/Pro) in header
Display remaining quota counters by model type
Disable bulk generation UI for free users
Show upgrade prompt when limits reached
Trend Forecaster (client/src/pages/TrendForecaster.tsx):

Lock niches beyond top 3 for free users
Show "Pro Only" badge on locked niches
Display upgrade modal on click
Trend History (client/src/pages/TrendHistory.tsx):

Show "Pro Feature" overlay for free users
Add upgrade CTA button
Content History (client/src/pages/EnhancedContentHistory.tsx):

Auto-delete records beyond 10 for free users
Hide export button for free tier
Show record limit indicator
Template Selector (client/src/components/TemplateSelector.tsx):

Lock templates beyond first 3 per mode
Show "Upgrade to unlock" tooltip
Dashboard (client/src/pages/Dashboard.tsx):

Add usage widget showing limits by model
Display tier badge
Show upgrade prompt when approaching limits
5. API Endpoints to Create/Update
GET /api/billing/usage

{
  tier: "free" | "pro",
  gpt: { used: number, limit: number, remaining: number },
  claude: { used: number, limit: number, remaining: number },
  trendAnalyses: { used: number, limit: number, remaining: number },
  canBulkGenerate: boolean,
  templatesUnlocked: number
}
POST /api/billing/upgrade

Handles tier upgrade to Pro
Updates subscription in database
6. Error Handling
When limits exceeded, return 429 with:

{
  "error": "Quota exceeded",
  "message": "You've used X of Y [GPT/Claude/Trend] generations. Upgrade to Pro for unlimited access.",
  "tier": "free",
  "upgradeUrl": "/billing/upgrade"
}
7. Viral Score & Analytics
Hide ViralScoreDisplay component for free users
Lock model analytics dashboard route
Show upgrade prompt when accessing restricted analytics
ðŸŽ¨ UX REQUIREMENTS
All locked features show clear "Pro" badge
Upgrade CTAs are prominent but not annoying
Free users can preview Pro features (show blurred/locked state)
Usage indicators update in real-time
Smooth transitions between free/pro states
ðŸ”’ IMPORTANT CONSTRAINTS
Use existing quota system in server/services/quotaService.ts as foundation
Integrate with existing billing routes in server/api/billing.ts
Maintain backward compatibility with current auth system
Track usage per calendar month (reset on 1st)
DO NOT modify authentication - only add tier checks
ðŸ“Š TESTING SCENARIOS
Ensure the system handles:

Free user hitting GPT limit (should block, suggest Claude)
Free user attempting bulk generation (should show upgrade modal)
Pro user accessing all features (should work seamlessly)
Monthly reset (usage resets to 0 on new month)
Mid-month tier upgrade (immediately unlocks features)
Build this complete tier system following ScriptTok's existing architecture. Use the quota service pattern already in place and extend it for model-specific tracking. Make UI changes subtle but clear - users should always know their tier status and limits.